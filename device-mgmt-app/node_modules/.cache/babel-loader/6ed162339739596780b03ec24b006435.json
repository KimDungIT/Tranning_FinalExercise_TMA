{"ast":null,"code":"import _defineProperty from\"/home/nktoan/ndung/device-mgmt/device-mgmt-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/nktoan/ndung/device-mgmt/device-mgmt-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/nktoan/ndung/device-mgmt/device-mgmt-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nktoan/ndung/device-mgmt/device-mgmt-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nktoan/ndung/device-mgmt/device-mgmt-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nktoan/ndung/device-mgmt/device-mgmt-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Button from\"@material-ui/core/Button\";import MenuItem from\"@material-ui/core/MenuItem\";import callApi from\"../util/ApiCaller\";import{notification}from\"antd\";import\"antd/dist/antd.css\";var HardwareTypeDialog=/*#__PURE__*/function(_React$Component){_inherits(HardwareTypeDialog,_React$Component);var _super=_createSuper(HardwareTypeDialog);function HardwareTypeDialog(props){var _this;_classCallCheck(this,HardwareTypeDialog);_this=_super.call(this,props);_this.changeName=function(){var result=\"\";var columnName=_this.props.columnName;switch(columnName){case\"deviceHolderName\":result=\"device holder\";break;case\"hardwareType\":result=\"hardware type\";break;case\"interfaceVersion\":result=\"interface version\";break;case\"connectionMechanism\":result=\"connection mechanism\";break;default:break;}return result;};_this.label={hardwareType:\"Hardware type\",interfaceVersion:\"Interface version\",connectionMechanism:\"Connection mechanism\"};_this.renderField=function(){var columnName=_this.props.columnName;var connectionMechanismList=[{value:\"Call home\"},{value:\"Non Callhome\"}];var result=/*#__PURE__*/React.createElement(React.Fragment,null,\" \");if(!columnName){return result;}switch(columnName){case\"deviceHolderName\":result=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TextField,{id:\"deviceHolderName\",select:true,label:\"Device holder\",name:\"deviceHolderName\",value:_this.state.deviceInfo[columnName],onChange:_this.onChangeDiviceInfo,required:true,fullWidth:true},_this.state.deviceHolderList.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option.deviceHolderName,value:option.deviceHolderName},option.deviceHolderName);})));break;case\"connectionMechanism\":result=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TextField,{id:\"connectionMechanism\",select:true,label:\"Connection mechanism\",name:\"connectionMechanism\",value:_this.state.deviceInfo[columnName],onChange:_this.onChangeDiviceInfo,required:true,fullWidth:true},connectionMechanismList.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option.value,value:option.value},option.value);})));break;default:result=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TextField,{margin:\"dense\",name:columnName,label:_this.label[columnName],fullWidth:true,required:true,onChange:_this.onChangeDiviceInfo,value:_this.state.deviceInfo[columnName]}));break;}return result;};_this.handleSubmit=function(e){e.preventDefault();var _this$state$deviceInf=_this.state.deviceInfo,name=_this$state$deviceInf.name,hardwareType=_this$state$deviceInf.hardwareType,interfaceVersion=_this$state$deviceInf.interfaceVersion,connectionMechanism=_this$state$deviceInf.connectionMechanism,deviceHolderName=_this$state$deviceInf.deviceHolderName;var deviceInfo={name:name,hardwareType:hardwareType,interfaceVersion:interfaceVersion,connectionMechanism:connectionMechanism,deviceHolderName:deviceHolderName};if(_this.validateInput(deviceInfo)){notification.error({message:\"Error \",description:\"Can not edit device\"});return;}callApi(\"device/\".concat(_this.props.deviceInfo.name),\"PUT\",deviceInfo).then(function(res){if(res.status===200){notification.success({message:\"Success\",description:\"Edit device successfully!\"});_this.props.setNeedRefreshDevice(true);}}).catch(function(error){notification.error({message:\"Error \",description:error.message});});};_this.validateInput=function(device){var valid=false;//check empty string\nif(device.hardwareType===\"\"){valid=true;}if(device.interfaceVersion===\"\"){valid=true;}if(device.connectionMechanism===\"\"){valid=true;}if(device.deviceHolderName===\"\"){valid=true;}return valid;};_this.onChangeDiviceInfo=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;console.log(\"name: \",name);_this.setState(function(prevState){return{deviceInfo:_objectSpread({},prevState.deviceInfo,_defineProperty({},name,value))};});};_this.state={deviceInfo:{},deviceHolderList:[]};return _this;}_createClass(HardwareTypeDialog,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({deviceInfo:this.props.deviceInfo});callApi(\"device-holder\",\"GET\",null).then(function(res){if(res.status===200){_this2.setState({deviceHolderList:res.data});}}).catch(function(error){notification.error({message:\"Error \",description:error.message});});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(JSON.stringify(this.props.deviceInfo)!==JSON.stringify(prevProps.deviceInfo)){this.setState({deviceInfo:this.props.deviceInfo});}}},{key:\"render\",value:function render(){var renderField=this.renderField();var name=this.changeName();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{open:this.props.openDialog,onClose:this.props.onCloseDialog,\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Edit \",name),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,noValidate:true,autoComplete:\"off\"},renderField,/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:this.props.onCloseDialog,color:\"primary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:this.props.onCloseDialog,variant:\"contained\",type:\"submit\",color:\"primary\"},\"Save\"))))));}}]);return HardwareTypeDialog;}(React.Component);export default HardwareTypeDialog;","map":{"version":3,"sources":["/home/nktoan/ndung/device-mgmt/device-mgmt-app/src/components/HardwareTypeDialog.js"],"names":["React","Component","TextField","Dialog","DialogActions","DialogContent","DialogTitle","Button","MenuItem","callApi","notification","HardwareTypeDialog","props","changeName","result","columnName","label","hardwareType","interfaceVersion","connectionMechanism","renderField","connectionMechanismList","value","state","deviceInfo","onChangeDiviceInfo","deviceHolderList","map","option","deviceHolderName","handleSubmit","e","preventDefault","name","validateInput","error","message","description","then","res","status","success","setNeedRefreshDevice","catch","device","valid","event","target","console","log","setState","prevState","data","prevProps","JSON","stringify","openDialog","onCloseDialog"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport callApi from \"../util/ApiCaller\";\r\nimport { notification } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nclass HardwareTypeDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      deviceInfo: {},\r\n      deviceHolderList: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ deviceInfo: this.props.deviceInfo });\r\n    callApi(\"device-holder\", \"GET\", null)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          this.setState({\r\n            deviceHolderList: res.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        notification.error({\r\n          message: \"Error \",\r\n          description: error.message,\r\n        });\r\n      });\r\n      \r\n  }\r\n\r\n  changeName = () => {\r\n    let result = \"\";\r\n    const { columnName } = this.props;\r\n    switch (columnName) {\r\n      case \"deviceHolderName\":\r\n        result = \"device holder\";\r\n        break;\r\n      case \"hardwareType\":\r\n          result = \"hardware type\";\r\n          break;\r\n      case \"interfaceVersion\":\r\n          result = \"interface version\";\r\n            break;\r\n      case \"connectionMechanism\":\r\n          result = \"connection mechanism\";\r\n          break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      JSON.stringify(this.props.deviceInfo) !==\r\n      JSON.stringify(prevProps.deviceInfo)\r\n    ) {\r\n      this.setState({ deviceInfo: this.props.deviceInfo });\r\n    }\r\n  }\r\n\r\n  label = {\r\n    hardwareType: \"Hardware type\",\r\n    interfaceVersion: \"Interface version\",\r\n    connectionMechanism: \"Connection mechanism\",\r\n  };\r\n\r\n  renderField = () => {\r\n    const { columnName } = this.props;\r\n    const connectionMechanismList = [\r\n      { value: \"Call home\" },\r\n      { value: \"Non Callhome\" },\r\n    ];\r\n    let result = <> </>;\r\n    if (!columnName) {\r\n      return result;\r\n    }\r\n    switch (columnName) {\r\n      case \"deviceHolderName\":\r\n        result = (\r\n          <>\r\n            <TextField\r\n              id=\"deviceHolderName\"\r\n              select\r\n              label=\"Device holder\"\r\n              name=\"deviceHolderName\"\r\n              value={this.state.deviceInfo[columnName]}\r\n              onChange={this.onChangeDiviceInfo}\r\n              required\r\n              fullWidth\r\n            >\r\n              {this.state.deviceHolderList.map((option) => (\r\n                <MenuItem\r\n                  key={option.deviceHolderName}\r\n                  value={option.deviceHolderName}\r\n                >\r\n                  {option.deviceHolderName}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n          </>\r\n        );\r\n        break;\r\n        case \"connectionMechanism\":\r\n          result = (\r\n            <>\r\n              <TextField\r\n                id=\"connectionMechanism\"\r\n                select\r\n                label=\"Connection mechanism\"\r\n                name=\"connectionMechanism\"\r\n                value={this.state.deviceInfo[columnName]}\r\n                onChange={this.onChangeDiviceInfo}\r\n                required\r\n                fullWidth\r\n              >\r\n                {connectionMechanismList.map((option) => (\r\n                  <MenuItem\r\n                    key={option.value}\r\n                    value={option.value}\r\n                  >\r\n                    {option.value}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </>\r\n          );\r\n          break;\r\n      default:\r\n        result = (\r\n          <>\r\n            <TextField\r\n              margin=\"dense\"\r\n              name={columnName}\r\n              label={this.label[columnName]}\r\n              fullWidth\r\n              required\r\n              onChange={this.onChangeDiviceInfo}\r\n              value={this.state.deviceInfo[columnName]}\r\n            />\r\n          </>\r\n        );\r\n        break;\r\n    }\r\n    return result;\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const {\r\n      name,\r\n      hardwareType,\r\n      interfaceVersion,\r\n      connectionMechanism,\r\n      deviceHolderName,\r\n    } = this.state.deviceInfo;\r\n    const deviceInfo = {\r\n      name,\r\n      hardwareType,\r\n      interfaceVersion,\r\n      connectionMechanism,\r\n      deviceHolderName,\r\n    };\r\n    if (this.validateInput(deviceInfo)) { \r\n      notification.error({\r\n        message: \"Error \",\r\n        description: \"Can not edit device\",\r\n      });\r\n      return;\r\n    }\r\n    callApi(`device/${this.props.deviceInfo.name}`, \"PUT\", deviceInfo)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          notification.success({\r\n            message: \"Success\",\r\n            description: \"Edit device successfully!\",\r\n          });\r\n\r\n          this.props.setNeedRefreshDevice(true);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        notification.error({\r\n          message: \"Error \",\r\n          description: error.message,\r\n        });\r\n      });\r\n  };\r\n\r\n  validateInput = (device) => {\r\n    let valid = false;\r\n    //check empty string\r\n    if (device.hardwareType === \"\") {\r\n      valid = true;\r\n    }\r\n    if (device.interfaceVersion === \"\") {\r\n      valid = true;\r\n    }\r\n    if (device.connectionMechanism === \"\") {\r\n      valid = true;\r\n    }\r\n    if (device.deviceHolderName === \"\") {\r\n      valid = true;\r\n    }\r\n    return valid;\r\n  };\r\n\r\n  onChangeDiviceInfo = (event) => {\r\n    const { name, value } = event.target;\r\n    console.log(\"name: \", name);\r\n    this.setState((prevState) => ({\r\n      deviceInfo: {\r\n        ...prevState.deviceInfo,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const renderField = this.renderField();\r\n    const name = this.changeName();\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={this.props.openDialog}\r\n          onClose={this.props.onCloseDialog}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Edit {name}</DialogTitle>\r\n          <DialogContent>\r\n            <form onSubmit={this.handleSubmit} noValidate autoComplete=\"off\">\r\n            {renderField}\r\n              <DialogActions>\r\n                <Button onClick={this.props.onCloseDialog} color=\"primary\">\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  onClick={this.props.onCloseDialog}\r\n                  variant=\"contained\"\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                >\r\n                  Save\r\n                </Button>\r\n              </DialogActions>\r\n            </form>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HardwareTypeDialog;\r\n"]},"metadata":{},"sourceType":"module"}